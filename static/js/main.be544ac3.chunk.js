(this["webpackJsonpmtg-guessing-game"]=this["webpackJsonpmtg-guessing-game"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(35)},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(7);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},l=n(1),i=n(6),u=n(5),s={difficulty:null,playing:!1,error:!1,errorMessage:""},m={card:null,score:0,wrong:!1},d=Object(i.combineReducers)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"main/SelectDiff":return e.playing?e:Object(u.a)(Object(u.a)({},e),{},{difficulty:t.difficulty,playing:!0});case"main/FatalError":return Object(u.a)(Object(u.a)({},e),{},{error:!0,errorMessage:t.message});case"main/EndGame":return s;default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"game/GuessCard":return e.card&&e.card.name===t.cardName?Object(u.a)(Object(u.a)({},e),{},{score:e.score+1,card:null}):e.card?Object(u.a)(Object(u.a)({},e),{},{wrong:!0}):e;case"game/NextCard":return e.card?e:Object(u.a)(Object(u.a)({},e),{},{card:t.card});case"game/resetGame":return m;default:return e}}}),f=n(13),p=Object(i.createStore)(d,Object(f.composeWithDevTools)()),g=n(2),h=n(4),v=n(3),b=function(){return{type:"main/EndGame"}},E=function(e){return{type:"main/FatalError",message:e}},O=["Creature","Instant","Sorcery","Enchantment","Artifact","Land","Planeswalker"];function y(e){return e?fetch("https://api.scryfall.com/cards/random?q=".concat(e)):fetch("https://api.scryfall.com/cards/random")}!function(e){e.STANDARD="STANDARD",e.MODERN="MODERN",e.VINTAGE="VINTAGE"}(c||(c={}));n(26);var j={selectDiff:function(e){return{type:"main/SelectDiff",difficulty:e}}},C=Object(l.b)((function(e,t){return{}}),j)(function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState({inputValue:e.target.value})},a.render=function(){return r.createElement("div",{className:"ChooseDifficulty"},r.createElement("h2",null,"Choose Difficulty:"),r.createElement("button",{className:"standard",onClick:function(){return a.props.selectDiff(c.STANDARD)}},"Standard"),r.createElement("br",null),r.createElement("button",{className:"modern",onClick:function(){return a.props.selectDiff(c.MODERN)}},"Modern"),r.createElement("br",null),r.createElement("button",{className:"vintage",onClick:function(){return a.props.selectDiff(c.VINTAGE)}},"Vintage"))},a.state={inputValue:"0"},a}return n}(r.Component)),N=function(){return{type:"game/resetGame"}},w=(n(27),{nextCard:function(e){return{type:"game/NextCard",card:e}},fatalError:E}),D=Object(l.b)((function(e,t){return{difficulty:e.main.difficulty}}),w)(function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).componentDidMount=function(){var t=null;switch(e.props.difficulty){case c.STANDARD:t="standard";break;case c.MODERN:t="modern";break;case c.VINTAGE:t="vintage";break;default:return}y(t?"is:booster+legal:".concat(t):null).then((function(e){return e.json()})).then((function(t){return e.props.nextCard(t)})).catch((function(t){return e.props.fatalError("Error with Scryfall API Call")}))},e.render=function(){return r.createElement("div",null,r.createElement("h2",null,"Loading Next Card..."))},e}return n}(r.Component)),A=n(14),M=(n(28),{guessCard:function(e){return{type:"game/GuessCard",cardName:e}}}),S=Object(l.b)((function(e,t){return{}}),M)(function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.createElement(r.Fragment,null,r.createElement("button",{className:"choiceButton",onClick:function(){return e.props.guessCard(e.props.cardName)}},e.props.cardName),r.createElement("br",null))},e}return n}(r.Component)),G=(n(29),{fatalError:E}),k=Object(l.b)((function(e,t){return{card:e.game.card}}),G)(function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){if(a.props.card){a.setState({cardNames:[a.props.card.name]});var e=null;O.some((function(t){var n;return!!(null===(n=a.props.card)||void 0===n?void 0:n.type_line.includes(t))&&(e=t.toLowerCase(),!0)}));var t=e?"+type:".concat(e):"",n=a.props.card.color_identity.map((function(e){return"color>=".concat(e)})).join("+OR+"),r=n.length?"+(".concat(n,")"):"+color=C",c="";if("creature"===e){for(var o,l=[],i=(null===(o=a.props.card)||void 0===o?void 0:o.type_line).split("//"),u=0;u<i.length;u++){var s=i[u];if(s.includes("Creature")){var m,d=s.split("\u2014")[1].split(" ").filter((function(e){return e.length>0}));l=null===(m=l)||void 0===m?void 0:m.concat(d)}}var f=l.map((function(e){return"type=".concat(e)})).join("+OR+");c="+(".concat(f,")"),r="",console.log(l)}for(var p=0;p<3;p++)y("is:booster".concat(t).concat(r).concat(c)).then((function(e){return e.json()})).then((function(e){a.setState({cardNames:T(a.state.cardNames.concat([e.name]))})})).catch((function(e){return a.props.fatalError("Error with Scryfall API Call")}))}},a.render=function(){var e,t,n=a.props.card?(t=a.props.card.id,"https://api.scryfall.com/cards/".concat(t,"/?format=image&version=art_crop")):void 0;return r.createElement("div",null,r.createElement("p",{hidden:a.state.imageLoaded},"Loading Image..."),r.createElement("img",{hidden:!a.state.imageLoaded,onLoad:function(){return a.setState({imageLoaded:!0})},src:n,alt:"The card art"}),(null===(e=a.props.card)||void 0===e?void 0:e.artist)?r.createElement("p",{hidden:!a.state.imageLoaded},"Artist: ",a.props.card.artist):null,4===a.state.cardNames.length?function(e){var t=[];return e.forEach((function(e){e&&!t.includes(e)&&t.push(e)})),t}(a.state.cardNames).map((function(e){return r.createElement(S,{cardName:e,key:e})})):r.createElement("p",null,"Loading Choices..."))},a.state={cardNames:[],imageLoaded:!1},a}return n}(r.Component));function T(e){for(var t=Object(A.a)(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=[t[r],t[n]];t[n]=a[0],t[r]=a[1]}return t}n(30);var L={resetMain:b,resetGame:N},R=Object(l.b)((function(e,t){var n;return{cardName:null===(n=e.game.card)||void 0===n?void 0:n.name}}),L)(function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).restart=function(){e.props.resetGame(),e.props.resetMain()},e.render=function(){return r.createElement("div",{className:"gameOver"},r.createElement("h1",null,"Game Over"),r.createElement("h3",null,"The card was: ",e.props.cardName),r.createElement("button",{onClick:e.restart},"Reset"))},e}return n}(r.Component)),I=(n(31),Object(l.b)((function(e,t){return{score:e.game.score,card:e.game.card,wrong:e.game.wrong}}),{})(function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.createElement("div",null,r.createElement("h2",null,"Score: ",e.props.score),e.props.wrong?r.createElement(R,null):null,e.props.wrong||e.props.card?null:r.createElement(D,null),!e.props.wrong&&e.props.card?r.createElement(k,null):null)},e}return n}(r.Component))),F=(n(32),{resetMain:b,resetGame:N}),V=Object(l.b)((function(e,t){return{message:e.main.errorMessage}}),F)(function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).restart=function(){e.props.resetGame(),e.props.resetMain()},e.render=function(){return r.createElement("div",{className:"gameError"},r.createElement("h1",null,"Fatal Error"),r.createElement("h2",null,e.props.message),r.createElement("button",{onClick:e.restart},"Reset"))},e}return n}(r.Component)),x=(n(33),Object(l.b)((function(e,t){return{playing:e.main.playing,error:e.main.error}}),{})(function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.createElement("div",null,r.createElement("p",null,"Created by ",r.createElement("a",{href:"https://trifectaiii.github.io/"},"Dakota Madden-Fong"),r.createElement("br",null),"Uses the ",r.createElement("a",{href:"https://scryfall.com/docs/api"},"Scryfall API")),r.createElement("h1",null,"MTG Guessing Game"),e.props.error?r.createElement(V,null):null,e.props.error||e.props.playing?null:r.createElement(C,null),!e.props.error&&e.props.playing?r.createElement(I,null):null)},e}return n}(r.Component)));n(34);a.render(r.createElement(r.StrictMode,null,r.createElement(l.a,{store:p},r.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),o()}],[[15,1,2]]]);
//# sourceMappingURL=main.be544ac3.chunk.js.map